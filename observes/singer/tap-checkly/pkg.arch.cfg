# SPDX-FileCopyrightText: 2022 Fluid Attacks <development@fluidattacks.com>
#
# SPDX-License-Identifier: MPL-2.0

[importlinter]
  root_package = tap_checkly

[importlinter:contract:dag]
  name = root_dag
  type = layers
  layers =
    cli
    singer
    api2
    api
  containers =
    tap_checkly

[importlinter:contract:cli_dag]
  name = cli_dag
  type = layers
  layers =
    _executor
    _streams
  containers =
    tap_checkly.cli


[importlinter:contract:2]
  name = api_dag
  type = layers
  layers =
    alert_channels
    checks
    dashboards
    env_vars
    maintenace_windows
    snippets
    common
  containers =
    tap_checkly.api

[importlinter:contract:3]
  name = api_isolation
  type = independence
  modules =
    tap_checkly.api.alert_channels
    tap_checkly.api.checks
    tap_checkly.api.dashboards
    tap_checkly.api.env_vars
    tap_checkly.api.maintenace_windows
    tap_checkly.api.snippets

[importlinter:contract:4]
  name = api_common_isolation
  type = independence
  modules =
    tap_checkly.api.common.raw
    tap_checkly.api.common.extractor

[importlinter:contract:5]
  name = api_common_raw_dag
  type = layers
  layers =
    client
    auth
  containers =
    tap_checkly.api.common.raw
