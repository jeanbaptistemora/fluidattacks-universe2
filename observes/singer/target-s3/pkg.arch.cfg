[importlinter]
  root_package = target_s3

[importlinter:contract:dag]
  name = root_dag
  type = layers
  layers =
    cli
    loader
    csv
    core
    in_buffer
  containers =
    target_s3

[importlinter:contract:core:dag]
  name = core_dag
  type = layers
  layers =
    _record_group
    _complete_record
    _plain_record
    _ro_file
  containers =
    target_s3.core

[importlinter:contract:core:deny]
name = core_inner_deny
type = forbidden
source_modules =
    target_s3.cli
    target_s3.loader
    target_s3.csv
    target_s3.in_buffer
forbidden_modules =
    target_s3.core._record_group
    target_s3.core._complete_record
    target_s3.core._plain_record
    target_s3.core._ro_file
ignore_imports =
    target_s3.core -> target_s3.core.*

[importlinter:contract:core:iso]
  name = core_iso
  type = independence
  modules =
    target_s3.core._record_group
    target_s3.core._ro_file