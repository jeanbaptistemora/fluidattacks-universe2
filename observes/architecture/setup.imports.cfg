[importlinter]
  root_packages =
    # common
    paginator
    postgres_client
    singer_io
    utils_logger
    # etl
    code_etl
    dif_gitlab_etl
    # services
    batch_stability
    job_last_success
    jobs_scheduler
    migrate_tables
    timedoctor_tokens
    # singer
    streamer_dynamodb
    streamer_gitlab
    streamer_zoho_crm
    tap_bugsnag
    tap_checkly
    tap_csv
    tap_delighted
    tap_formstack
    tap_git
    tap_json
    tap_mailchimp
    tap_mixpanel
    tap_timedoctor
    tap_toe_files
    tap_zoho_analytics
    target_redshift
    target_redshift_2

[importlinter:contract:dag]
  name = observes_dag
  type = layers
  layers =
    # etl
    code_etl
    dif_gitlab_etl
    # services
    batch_stability
    job_last_success
    jobs_scheduler
    migrate_tables
    timedoctor_tokens
    # singer
    streamer_dynamodb
    streamer_gitlab
    streamer_zoho_crm
    tap_bugsnag
    tap_checkly
    tap_csv
    tap_delighted
    tap_formstack
    tap_git
    tap_mailchimp
    tap_mixpanel
    tap_timedoctor
    tap_toe_files
    tap_zoho_analytics
    target_redshift
    target_redshift_2
    tap_json
    # common
    paginator
    postgres_client
    singer_io
    utils_logger

[importlinter:contract:2]
  name = singer_isolation
  type = independence
  modules =
    streamer_dynamodb
    streamer_gitlab
    streamer_zoho_crm
    tap_bugsnag
    tap_checkly
    tap_csv
    tap_delighted
    tap_formstack
    tap_git
    tap_mailchimp
    tap_mixpanel
    tap_timedoctor
    tap_toe_files
    tap_zoho_analytics
    target_redshift
    target_redshift_2

[importlinter:contract:3]
  name = etl_isolation
  type = independence
  modules =
    code_etl
    dif_gitlab_etl

[importlinter:contract:4]
  name = services_isolation
  type = independence
  modules =
    batch_stability
    job_last_success
    jobs_scheduler
    migrate_tables
    timedoctor_tokens

[importlinter:contract:5]
  name = common_isolation
  type = independence
  modules =
    paginator
    postgres_client
    singer_io
