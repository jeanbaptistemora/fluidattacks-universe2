:slug: kb/apache/restringir-banner
:eth: no
:category: apache
:kb: yes

= Restringir Banners

== Necesidad

Restringir la visualización de nombre y versión de Servidor HTTP Apache

== Contexto

A continuación se describen las circunstancias bajo las cuales la siguiente 
solución tiene sentido:

. Se utiliza Apache2 como servidor web.

. Se desea ocultar la información de versión de la plataforma Apache.

== Solución

. En el archivo de configuración httpd.conf asegúrese de contener las 
siguientes directivas:
+
[source, conf, linenums]
----
ServerSignature Off +
ServerTokens Prod
----

. En caso de no encontrar el archivo httpd.conf editar el archivo security en 
/etc/apache2/conf.d/

. Después de realizar la modificación en el archivo de configuración se debe 
reiniciar el servicio:
+
[source, bash, linenums]
----
% apache2 restart
----

. La directiva ServerSignature le indica al Apache que muestre la versión en 
los errores de requisitos HTTP.

. La directiva ServerTokens hace que en los encabezados solo se vea: "Server: 
Apache".

. Si lo que se desea es que no aparezca el Nombre del "Apache" o cambiar 
completamente este valor, lo que necesitará hacer es lo siguiente:

. Descargar el código fuente de Apache.

. Editar el archivo httpd.h, cambiando el valor de la cadena "Apache" en la 
línea:
+
[source, conf, linenums]
----
define SERVER_BASEPRODUCT "Apache"
----

. Por un valor diferente como:
+
[source, conf, linenums]
----
define SERVER_BASEPRODUCT "Server"
----

. Bajar el servicio Apache, recompilar, reinstalar e iniciar el servicio Apache.

== Referencias

. https://httpd.apache.org/docs/2.4/es/[Documentación Apache]
. REQ.0272 La información (nombre de producto, versión o configuración) de 
servicios expuestos no debe ser accesible. (Ej, versiones que se publican al 
conectarse a un servicio como SSH)
