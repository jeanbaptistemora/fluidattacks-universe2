:slug: typescript-al-rescate/
:date: 2018-08-10
:category: programación
:subtitle: Introducción a TypeScript
:tags: aplicación, funcional, javascript, typescript
:image: cover.png
:alt: Antigua máquina de escribir que dice TypeScript en sus letras
:description: Breve historia del origen de TypeScript. Razones por las cuales debemos usar TypeScript. Uso de TypeScript funcional. Para que sirve el tipado de variables. Cuales son los casos en que TypeScript se convierte en una herramienta casi obligatoria de usar.
:keywords: TypeScript, JavaScript, Tipado de variables, Web, Compilación, Funcional.
:author: Oswaldo Parada
:writer: oparada
:name: Oswaldo José Parada Cuadros
:about1: Ingeniero Mecánico
:about2: Familia, amigos y pequeños detalles. Ahí está la respuesta.
:figure-caption: Imagen

= TypeScript al rescate

Poco tiempo ha pasado desde que las computadoras
y el internet se volvieron parte del paisaje típico de las sociedades.
Hasta los años 90, las computadoras eran un artefacto reservado
para los académicos, militares, millonarios y geeks.
Pero los visionarios descubrieron el potencial
que este tipo de máquinas tenian si se implementaban de manera masiva
(puede que quizás solo pensaban en el  potencial económico
y no en el bien de la humanidad).
Claro que los ordenadores no eran muy atractivos con sus pantallas negras
y letras verdes, tampoco eran físicamente estéticos
y eran económicamente inalcanzables  para la clase media.
Los computadores no representaban un impacto significativo
para el ciudadano de a pie que no tuviera
nada que ver con tecnología o finanzas.
Así que habian 3 problemas que impedían la masificación:
los altos precios, la apariencia y sistemas operativos agresivos
y la falta de una utilidad que justificara el gasto.
El primer y el segundo problema fueron fáciles de solucionar:
plásticos, componentes genéricos, producción en masa
y sistemas operativos intuitivos con muchos colores.
Con el tercer problema, la cosa se complicó un poco ya que nadie
estaba convencido de querer comprar un “televisor con teclado”.
Solo fue hasta que se desarrolló el internet
como una funcionalidad pública, que los términos www
y página web llegaron a boca de todo el mundo, entonces,
el universo sufrió un nuevo big bang.
Ya todos querían estar a la moda y
hacer parte de la red, pronto las primeras páginas web
se quedaron obsoletas por el flujo elevado de visitantes,
los usuarios exigían cada vez más,
un simple texto plano ya no satisfacía a nadie.
Era hora de crear un nuevo lenguaje, era hora de JavaScript.

== JavaScript con superpoderes

Seguramente JavaScript marcó un antes
y un después en la era del internet,
las posibilidades de lo que se podía hacer eran casi infinitas.
Sin embargo, los usuarios siempre seguirán con hambre de más,
haciendo que todo tenga que evolucionar a un ritmo frenético.
Las aplicaciones web tuvieron que crecer
para soportar una buena cantidad de funcionalidades caprichosas.
Esto eventualmente ocasionó que JavaScript mostrara sus falencias.
En respuesta a ello, el equipo de Microsoft decidió desarrollar
link:https://www.typescriptlang.org/index.html[+TypeScript+],
un superset que promete repotenciar JavaScript y llevarlo al más alto nivel.

Un superset es un programa que surge
o se escribe sobre la base de otro programa,
adoptando su núcleo y agregando nuevas funcionalidades.
También, se puede entender como una especie de extensión con vida propia.

A su vez, link:https://www.typescriptlang.org/index.html[+TypeScript+]
compila a JavaScript,
es decir que todo el código que escribas en
link:https://www.typescriptlang.org/index.html[+TypeScript+]
terminará traducido a JavaScript.
Esta es una característica muy atractiva a la
hora de aprender este lenguaje
porque significa que si tienes buenas bases de JavaScript
entonces la migración debería ser exponencialmente
más fácil en comparación a alguien que empieza desde cero.

.Un pequeño resumen gráfico del origen de TypesScript
image::popeye.gif[Escena clásica de Popeye comiendo espinacas]

Entonces ¿para qué molestarse en crear un nuevo lenguaje
basado en otro que ya de por sí es bastante maduro?
Bueno, en las siguientes secciones hablaremos
de las ventajas que propone
link:https://www.typescriptlang.org/index.html[+TypeScript+] en comparación
con su aliado JavaScript.

=== Clases y Módulos:

link:https://www.typescriptlang.org/index.html[+TypeScript+]
busca ser parte esencial
del +backend+ de cualquier aplicación
y no limitarse netamente al +frontend+
como es el caso de JavaScript,
por esto se introduce el uso de clases y módulos.
Por ejemplo:

.Ejemplo de definición de clases con TypeScript.
[source, javascript]
----
class Polygon {
  constructor(height, width) {
    this.height = height;
    this.width = width;
  }
}
----

Esto es una gran ventaja si programación orientada
a objetos es lo que se quiere hacer, sin embargo,
en +Fluid Attacks+ preferimos
link:https://www.typescriptlang.org/index.html[+TypeScript+] funcional
por ende, las clases están estrictamente prohibidas
al ser estructuras que promueven el uso de un estado mutable.

=== Chequeo estático de tipos

link:https://www.typescriptlang.org/index.html[+TypeScript+]
ha sido un lenguaje con bastantes detractores
que dicen que este no representa una ventaja
significativa en comparación con JavaScript.
Desde el mismo equipo de Microsoft
comentan que el verdadero beneficio de
link:https://www.typescriptlang.org/index.html[+TypeScript+]
se hace notar en proyectos grandes.
La razón es sencilla,
link:https://www.typescriptlang.org/index.html[+TypeScript+]
permite la revisión
estática de los tipos que pueden tener las estructuras de datos.
En resumen, revisar los tipos permite verificar
que no hayan resultados inesperados
a la hora de ejecutar determinada función.
Para usar esta característica,
es necesario asignarle un tipo a las variables
directamente en el código, preferiblemente en el mismo momento
en que se está programando la funcionalidad.
Si aún no has entendido los útil
que es esta característica, te invitamos a ver el siguiente código:

.Chequeo estático de variables en TypeScript.
[source, javascript]
----
var name: string;
name = 'Oswaldo' ; // Asigna un string a una variable tipo string

var surname: string;
surname = 1; // type error, asigna un número a una variable tipo string

function foo(value: number) {}
foo(2); // Asigna el tipo number para un parámetro que es tipo number

function bar(value: number) {}
bar(''); // type error, asignación errónea para un parámetro que es tipo string
----

=== EMACScript 6

Muchas de las notaciones introducidas
por EMACSCript 6 no son compatibles con algunos navegadores
causando dolores de cabeza a los usuarios
y posteriormente a los desarrolladores.
link:https://www.typescriptlang.org/index.html[+TypeScript+]
permite el uso de estas especificaciones
sin sacrificar compatibilidad, ya que ofrece
la opción de compilar a versiones anteriores de EMACScript.

=== Referenciación a otras librerías

El mayor temor de algunos antes de iniciar
la migración a link:https://www.typescriptlang.org/index.html[+TypeScript+]
es la imposibilidad de usar
librerías de JavaScript, argumentados en el hecho de que
estas no serán correctamente compiladas.
La buena noticias es que
link:https://www.typescriptlang.org/index.html[+TypeScript+] permite
crear archivos +.d.ts+ en los cuales se especifican los métodos
y variables que tiene una librería de JavaScript
con el fin de volverla compatible.
Otra buena noticia es que los archivos +.d.ts+ de las librerías
más populares de JavaScript como link:https://angular.io/[+Angular+]
o link:https://getbootstrap.com/[+Bootstrap+]
ya se encuentran disponibles en internet.

== Modernidad funcional

Ya habíamos mencionado que
link:https://www.typescriptlang.org/index.html[+TypeScript+] es un lenguaje
pensado para ser puramente orientado a objetos, entonces
¿Por qué estamos hablando de modernidad funcional?
Para que entiendas un poco mejor,
debes entender que nosotros no usamos
link:https://www.typescriptlang.org/index.html[+TypeScript+]
como un lenguaje funcional
pero si programamos en
link:https://www.typescriptlang.org/index.html[+TypeScript+]
con mentalidad funcional.
Son 2 versiones completamente diferentes.
La primera solo es aplicable a programas que explícitamente
son reconocidos como funcionales o multiparadigma.
Por el contrario, la mentalidad funcional
puede ser aplicado a cualquier lenguaje.
Si ya has programado en JavaScript con enfoque funcional,
pues felicitaciones, prácticamente sabes como programar
en link:https://www.typescriptlang.org/index.html[+TypeScript+]
con pensamiento funcional.
Si este no es tu caso, te recomendamos que leas
[button]#link:/web/es/blog/por-que-somos-funcionales[Por qué somos funcionales?]#
y [button]#link:/web/en/blog/functional-fashion-in-javascript[Functional Fashion in JavaScript]#

Solo falta responder ¿Por qué modernidad?
Bueno, los expertos en
link:https://www.typescriptlang.org/index.html[+TypeScript+]
y las empresas que tienen
su código en este lenguaje, aseguran que cumple
con todos los requerimientos que debe tener un lenguaje
para estar a la vanguardia de lo que exige el mundo de hoy.
Mencionamos que JavaScript empieza a tener falencias
cuando los proyectos son muy grandes.
Más aún si se usan frameworks con link:https://angular.io/[+Angular+]
donde se utiliza el concepto de +Scope+ compartido entre archivos,
permitiendo la negligencia de ir enredando los métodos
y variables que necesitan los demás elementos, por ende
el acoplamiento es elevado y cada vez que quieras ver como funciona algo,
necesitas revisar 10 archivos e ir saltando de función en función
hasta poder entender lo que estabas buscando con tantas ansias.
link:https://www.typescriptlang.org/index.html[+TypeScript+]
es perfecto para evitar esto,
el chequeo estático de tipos de variables permite
encontrar +bugs+ con facilidad,
a parte de simplificar la documentación del código.


=== Conclusiones

Con este artículo intentamos introducirte al mundo del
link:https://www.typescriptlang.org/index.html[+TypeScript+],
un lenguaje que está dando mucho de qué hablar
y que recibe opiniones positivas como negativas.
Creo que es algo normal, el cambio siempre trae consigo críticas.
Las ventajas son claras, las más notables son la compilación a JavaScript,
la compatibilidad de librerías y el chequeo estático de tipos.
Las tres características permiten ser aplicadas de manera progresiva,
por lo que empezar a usar
link:https://www.typescriptlang.org/index.html[+TypeScript+] no tiene
por qué ser un proceso doloroso.
Créenos, hemos estado implementando progresivamente
link:https://www.typescriptlang.org/index.html[+TypeScript+]
en nuestro producto insignia
link:https://fluidattacks.com/integrates[+Integrates+]
y el cambio ha sido evidente.
Ahora el código está más organizado y estructurado,
se eliminaron algunas dependencias que ya no eran necesarias
y se aumentó la seguridad de la aplicación al ofuscar
el código al momento del despliegue.
Lo mejor es que no todo nuestro equipo de desarrolladores
tiene que estar trabajando con
link:https://www.typescriptlang.org/index.html[+TypeScript+],
de hecho solo unos pocos migran funcionalidades a este lenguaje
mientras los otros siguen desarrollando de manera normal.
Realmente esto es una decisión personal,
debes analizar tu aplicación y ver si este superset no vale la pena
o si representa una mejora representativa para tu código.
Para nosotros ha sido de mucha ayuda
y es probable que
link:https://www.typescriptlang.org/index.html[+TypeScript+]
sea la respuesta que tanto has estado buscando.
