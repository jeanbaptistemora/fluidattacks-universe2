/computeOnAwsBatch/integratesScheduler__prod__schedulers.update_indicators.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_update_indicators == null
      when: never
    - when: always
  script:
    - m . /computeOnAwsBatch/integratesScheduler 'prod' 'schedulers.update_indicators.main'
  stage: scheduler
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/computeOnAwsBatch/integratesSubscriptionsDailyDigest__prod:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  retry: 2
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_subscriptions_daily_digest_on_aws_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /computeOnAwsBatch/integratesSubscriptionsDailyDigest 'prod'
  stage: scheduler
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/integratesBackups:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /deployTerraform/integratesBackups
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/integratesCache:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /deployTerraform/integratesCache
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/integratesDatabase:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /deployTerraform/integratesDatabase
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/integratesFront:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /deployTerraform/integratesFront
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/integratesResources:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /deployTerraform/integratesResources
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/authz-matrix:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/back/deploy/permissions_matrix
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/authz-matrix
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/deploy/dev:
  environment:
    name: development/$CI_COMMIT_REF_SLUG
    url: https://$CI_COMMIT_REF_SLUG.app.fluidattacks.com
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates|skims|forces)/
  script:
    - m . /integrates/back/deploy/dev
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/deploy/prod:
  environment:
    name: production
    url: https://app.fluidattacks.com
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/deploy/prod
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/deploy/prod__even:
  environment:
    name: production
    url: https://app.fluidattacks.com
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /taintTerraform/commonUsersKeys1
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $common_users_rotate_even == null
      when: never
    - when: always
  script:
    - m . /integrates/back/deploy/prod 'even'
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/deploy/prod__odd:
  environment:
    name: production
    url: https://app.fluidattacks.com
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /taintTerraform/commonUsersKeys2
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $common_users_rotate_odd == null
      when: never
    - when: always
  script:
    - m . /integrates/back/deploy/prod 'odd'
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/destroy/eph:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_nightly_build == null
      when: never
    - when: always
  script:
    - m . /integrates/back/destroy/eph
  stage: rotation
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/lint/charts:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/lint/charts
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/lint/pythonIso:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/lint/pythonIso
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/lint/schema:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/lint/schema
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/check-forces-output:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/check-forces-output
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__accept_legal:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'accept_legal'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__acknowledge_concurrent_session:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'acknowledge_concurrent_session'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__activate_root:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'activate_root'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_draft:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_draft'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_event:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_event'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_event_consult:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_event_consult'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_files_to_db:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_files_to_db'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_finding_consult:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_finding_consult'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_forces_execution:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_forces_execution'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_git_root:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_git_root'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_group:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_group'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_group_consult:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_group_consult'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_group_tags:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_group_tags'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_organization:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_organization'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_push_token:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_push_token'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_toe_input:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_toe_input'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__approve_draft:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'approve_draft'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__batch:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'batch'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__confirm_vulnerabilities_zero_risk:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'confirm_vulnerabilities_zero_risk'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__deactivate_root:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'deactivate_root'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__delete_obsolete_groups:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'delete_obsolete_groups'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__download_event_file:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'download_event_file'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__download_file:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'download_file'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__download_vulnerability_file:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'download_vulnerability_file'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__event:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'event'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__events:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'events'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__finding:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'finding'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__forces_executions:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'forces_executions'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__grant_stakeholder_access:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'grant_stakeholder_access'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__grant_stakeholder_organization_access:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'grant_stakeholder_organization_access'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__group:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'group'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__groups_with_forces:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'groups_with_forces'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__handle_vulnerabilities_acceptance:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'handle_vulnerabilities_acceptance'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__internal_names:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'internal_names'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__invalidate_access_token:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'invalidate_access_token'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__me:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'me'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__organization:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'organization'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__organization_id:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'organization_id'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__refresh_toe_inputs:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'refresh_toe_inputs'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__refresh_toe_lines:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'refresh_toe_lines'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reject_draft:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reject_draft'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reject_vulnerabilities_zero_risk:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reject_vulnerabilities_zero_risk'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_event_evidence:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_event_evidence'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_evidence:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_evidence'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_files:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_files'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_finding:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_finding'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_group:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_group'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_group_tag:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_group_tag'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_stakeholder:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_stakeholder'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_stakeholder_access:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_stakeholder_access'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_stakeholder_organization_access:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_stakeholder_organization_access'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_tags:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_tags'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_vulnerability:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_vulnerability'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__report:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'report'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_vulnerabilities_hold:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_vulnerabilities_hold'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_vulnerabilities_verification:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_vulnerabilities_verification'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_vulnerabilities_zero_risk:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_vulnerabilities_zero_risk'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__requeue_actions:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'requeue_actions'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reset_expired_accepted_findings:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reset_expired_accepted_findings'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__resources:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'resources'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__sign_in:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'sign_in'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__solve_event:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'solve_event'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__stakeholder:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'stakeholder'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__submit_draft:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'submit_draft'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__submit_organization_finding_policy:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'submit_organization_finding_policy'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__subscribe_to_entity_report:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'subscribe_to_entity_report'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__sync_git_root:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'sync_git_root'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__toe_inputs:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'toe_inputs'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__toe_lines:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'toe_lines'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__unsubscribe_from_group:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'unsubscribe_from_group'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_access_token:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_access_token'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_event_evidence:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_event_evidence'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_evidence:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_evidence'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_evidence_description:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_evidence_description'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_finding_description:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_finding_description'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_forces_access_token:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_forces_access_token'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_git_root:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_git_root'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_access_info:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_access_info'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_disambiguation:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_disambiguation'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_info:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_info'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_stakeholder:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_stakeholder'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_organization_policies:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_organization_policies'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_organization_stakeholder:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_organization_stakeholder'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_severity:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_severity'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_stakeholder_phone:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_stakeholder_phone'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_input:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_input'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_lines_attacked_lines:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_lines_attacked_lines'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_lines_sorts:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_lines_sorts'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_vulnerabilities_treatment:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_vulnerabilities_treatment'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_vulnerability_commit:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_vulnerability_commit'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_vulnerability_treatment:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_vulnerability_treatment'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__upload_file:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'upload_file'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__validate_git_access:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'validate_git_access'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__verify_stakeholder:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'verify_stakeholder'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__verify_vulnerabilities_request:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'verify_vulnerabilities_request'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__vulnerability:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'vulnerability'
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/unit:
  artifacts:
    expire_in: 1 week
    name: coverage_xml_$CI_COMMIT_REF_NAME_$CI_COMMIT_SHA
    paths:
      - integrates/.coverage*
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/unit
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/charts/documents__dev:
  artifacts:
    expire_in: 1 week
    paths:
      - integrates/charts
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  parallel: 7
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/charts/documents 'dev'
  stage: analytics
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/charts/documents__prod:
  artifacts:
    expire_in: 1 week
    paths:
      - integrates/charts
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  parallel: 25
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_charts_make_documents_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /integrates/charts/documents 'prod'
  stage: analytics
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/charts/snapshots__prod:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs:
    - /integrates/charts/documents__prod
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $charts == null
      when: never
    - when: always
  script:
    - m . /integrates/charts/snapshots 'prod'
  stage: analytics
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/build
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/test/unit
    - /integrates/front/test
    - /integrates/mobile/test
    - /integrates/coverage/combine__1
    - /integrates/coverage/combine__2
    - /integrates/coverage/combine__3
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage
  stage: external
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage/combine__1:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/test/functional__accept_legal
    - /integrates/back/test/functional__acknowledge_concurrent_session
    - /integrates/back/test/functional__activate_root
    - /integrates/back/test/functional__add_draft
    - /integrates/back/test/functional__add_event
    - /integrates/back/test/functional__add_event_consult
    - /integrates/back/test/functional__add_files_to_db
    - /integrates/back/test/functional__add_finding_consult
    - /integrates/back/test/functional__add_forces_execution
    - /integrates/back/test/functional__add_git_root
    - /integrates/back/test/functional__add_group
    - /integrates/back/test/functional__add_group_consult
    - /integrates/back/test/functional__add_group_tags
    - /integrates/back/test/functional__add_organization
    - /integrates/back/test/functional__add_push_token
    - /integrates/back/test/functional__add_toe_input
    - /integrates/back/test/functional__approve_draft
    - /integrates/back/test/functional__batch
    - /integrates/back/test/functional__confirm_vulnerabilities_zero_risk
    - /integrates/back/test/functional__deactivate_root
    - /integrates/back/test/functional__delete_obsolete_groups
    - /integrates/back/test/functional__download_event_file
    - /integrates/back/test/functional__download_file
    - /integrates/back/test/functional__download_vulnerability_file
    - /integrates/back/test/functional__event
    - /integrates/back/test/functional__events
    - /integrates/back/test/functional__finding
    - /integrates/back/test/functional__forces_executions
    - /integrates/back/test/functional__grant_stakeholder_access
    - /integrates/back/test/functional__grant_stakeholder_organization_access
    - /integrates/back/test/functional__group
    - /integrates/back/test/functional__groups_with_forces
    - /integrates/back/test/functional__handle_vulnerabilities_acceptance
    - /integrates/back/test/functional__internal_names
    - /integrates/back/test/functional__invalidate_access_token
    - /integrates/back/test/functional__me
    - /integrates/back/test/functional__organization
    - /integrates/back/test/functional__organization_id
    - /integrates/back/test/functional__refresh_toe_inputs
    - /integrates/back/test/functional__refresh_toe_lines
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage/combine '1'
  stage: external
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage/combine__2:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/test/functional__reject_draft
    - /integrates/back/test/functional__reject_vulnerabilities_zero_risk
    - /integrates/back/test/functional__remove_event_evidence
    - /integrates/back/test/functional__remove_evidence
    - /integrates/back/test/functional__remove_files
    - /integrates/back/test/functional__remove_finding
    - /integrates/back/test/functional__remove_group
    - /integrates/back/test/functional__remove_group_tag
    - /integrates/back/test/functional__remove_stakeholder
    - /integrates/back/test/functional__remove_stakeholder_access
    - /integrates/back/test/functional__remove_stakeholder_organization_access
    - /integrates/back/test/functional__remove_tags
    - /integrates/back/test/functional__remove_vulnerability
    - /integrates/back/test/functional__report
    - /integrates/back/test/functional__request_vulnerabilities_hold
    - /integrates/back/test/functional__request_vulnerabilities_verification
    - /integrates/back/test/functional__request_vulnerabilities_zero_risk
    - /integrates/back/test/functional__requeue_actions
    - /integrates/back/test/functional__reset_expired_accepted_findings
    - /integrates/back/test/functional__resources
    - /integrates/back/test/functional__sign_in
    - /integrates/back/test/functional__solve_event
    - /integrates/back/test/functional__stakeholder
    - /integrates/back/test/functional__submit_draft
    - /integrates/back/test/functional__submit_organization_finding_policy
    - /integrates/back/test/functional__subscribe_to_entity_report
    - /integrates/back/test/functional__sync_git_root
    - /integrates/back/test/functional__toe_inputs
    - /integrates/back/test/functional__toe_lines
    - /integrates/back/test/functional__unsubscribe_from_group
    - /integrates/back/test/functional__update_access_token
    - /integrates/back/test/functional__update_event_evidence
    - /integrates/back/test/functional__update_evidence_description
    - /integrates/back/test/functional__update_evidence
    - /integrates/back/test/functional__update_finding_description
    - /integrates/back/test/functional__update_forces_access_token
    - /integrates/back/test/functional__update_git_root
    - /integrates/back/test/functional__update_group
    - /integrates/back/test/functional__update_group_access_info
    - /integrates/back/test/functional__update_group_disambiguation
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage/combine '2'
  stage: external
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage/combine__3:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/test/functional__update_group_info
    - /integrates/back/test/functional__update_group_stakeholder
    - /integrates/back/test/functional__update_organization_policies
    - /integrates/back/test/functional__update_organization_stakeholder
    - /integrates/back/test/functional__update_severity
    - /integrates/back/test/functional__update_stakeholder_phone
    - /integrates/back/test/functional__update_toe_input
    - /integrates/back/test/functional__update_toe_lines_attacked_lines
    - /integrates/back/test/functional__update_toe_lines_sorts
    - /integrates/back/test/functional__update_vulnerabilities_treatment
    - /integrates/back/test/functional__update_vulnerability_commit
    - /integrates/back/test/functional__update_vulnerability_treatment
    - /integrates/back/test/functional__upload_file
    - /integrates/back/test/functional__validate_git_access
    - /integrates/back/test/functional__verify_stakeholder
    - /integrates/back/test/functional__verify_vulnerabilities_request
    - /integrates/back/test/functional__vulnerability
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage/combine '3'
  stage: external
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/deploy/dev:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/deploy/dev
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/deploy/prod:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/deploy/prod
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/lint:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/lint
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/test:
  after_script:
    - cp ~/.makes/out-integrates-front-test/coverage/lcov.info integrates/front/coverage.lcov
  artifacts:
    expire_in: 1 week
    name: coverage_lcov_$CI_COMMIT_REF_NAME_$CI_COMMIT_SHORT_SHA
    paths:
      - integrates/front/coverage.lcov
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/test
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/mobile/build/android:
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/mobile/output/
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/mobile/ota__prod
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/mobile/build/android
  stage: build
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 5
    MAKES_GIT_DEPTH: 1
/integrates/mobile/deploy/playstore:
  dependencies:
    - /integrates/mobile/build/android
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/mobile/build/android
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/mobile/deploy/playstore
  stage: deploy-app
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 5
    MAKES_GIT_DEPTH: 1
/integrates/mobile/lint:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/mobile/lint
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/mobile/ota__dev:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/mobile/ota 'dev'
  stage: pre-build
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/mobile/ota__prod:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/mobile/ota 'prod'
  stage: pre-build
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/mobile/test:
  after_script:
    - cp ~/.makes/out-integrates-mobile-test/coverage/lcov.info integrates/mobile/coverage.lcov
  artifacts:
    expire_in: 1 week
    name: coverage_lcov_$CI_COMMIT_REF_NAME_$CI_COMMIT_SHORT_SHA
    paths:
      - integrates/mobile/coverage.lcov
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/mobile/test
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/secrets/lint:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/secrets/lint
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__daily:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'daily'
  stage: subscriptions
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__hourly:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'hourly'
  stage: subscriptions
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__monthly:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'monthly'
  stage: subscriptions
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__weekly:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'weekly'
  stage: subscriptions
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__prod__daily:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_subscriptions_analytics_daily_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /integrates/subscriptions/analytics 'prod' 'daily'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__prod__hourly:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_subscriptions_analytics_hourly_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /integrates/subscriptions/analytics 'prod' 'hourly'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__prod__monthly:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_subscriptions_analytics_monthly_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /integrates/subscriptions/analytics 'prod' 'monthly'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__prod__weekly:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_subscriptions_analytics_weekly_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /integrates/subscriptions/analytics 'prod' 'weekly'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/daily-digest__dev:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/daily-digest 'dev'
  stage: subscriptions
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.clone_groups_roots.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_clone_groups_roots == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.clone_groups_roots.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.clone_groups_roots_vpn.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_clone_groups_roots_vpn == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.clone_groups_roots_vpn.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.delete_imamura_stakeholders.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_delete_imamura_stakeholders == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.delete_imamura_stakeholders.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.delete_obsolete_groups.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_delete_obsolete_groups == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.delete_obsolete_groups.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.delete_obsolete_orgs.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_delete_obsolete_orgs == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.delete_obsolete_orgs.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.event_report.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_event_report == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.event_report.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.get_remediated_findings.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_get_remediated_findings == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.get_remediated_findings.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.machine_queue_all.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_machine_queue_all == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.machine_queue_all.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.machine_queue_re_attacks.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_machine_queue_re_attacks == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.machine_queue_re_attacks.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.refresh_toe_lines.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_refresh_toe_lines == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.refresh_toe_lines.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.reminder_notification.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_reminder_notification == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.reminder_notification.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.report_squad_usage.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_report_squad_usage == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.report_squad_usage.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.requeue_actions.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_requeue_actions == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.requeue_actions.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.reset_expired_accepted_findings.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_reset_expired_accepted_findings == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.reset_expired_accepted_findings.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.update_group_toe_vulns.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_update_group_toe_vulns == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.update_group_toe_vulns.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/utils/scheduler__prod__schedulers.update_portfolios.main:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: false
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_scheduler_update_portfolios == null
      when: never
    - when: always
  script:
    - m . /integrates/utils/scheduler 'prod' 'schedulers.update_portfolios.main'
  stage: scheduler
  tags:
    - autoscaling-large
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/web/check-forces-output:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/deploy/dev
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/web/check-forces-output
  stage: post-deploy
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/web/check-schema-changes:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/deploy/dev
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/web/check-schema-changes
  stage: post-deploy
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/web/e2e:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs:
    - /integrates/back/deploy/dev
    - /integrates/front/deploy/dev
  parallel: 5
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/web/e2e
  stage: post-deploy
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/dirOfModules/integrates:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/dirOfModules/integrates
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/dirOfModules/integratesBackChartsGenerators:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/dirOfModules/integratesBackChartsGenerators
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/imports/integrates:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/imports/integrates
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackDeployPermissionsMatrix:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackDeployPermissionsMatrix
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackMigrations:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackMigrations
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackTest:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackTest
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackTestE2e:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackTestE2e
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/integratesBackups:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintTerraform/integratesBackups
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/integratesCache:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintTerraform/integratesCache
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/integratesDatabase:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintTerraform/integratesDatabase
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/integratesFront:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintTerraform/integratesFront
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/integratesResources:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintTerraform/integratesResources
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/pipelineOnGitlab/integrates:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /pipelineOnGitlab/integrates
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/securePythonWithBandit/integratesBack:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /securePythonWithBandit/integratesBack
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/integratesBackups:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /testTerraform/integratesBackups
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/integratesCache:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /testTerraform/integratesCache
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/integratesDatabase:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /testTerraform/integratesDatabase
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/integratesFront:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /testTerraform/integratesFront
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/integratesResources:
  image: ghcr.io/fluidattacks/makes:22.05
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /testTerraform/integratesResources
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
