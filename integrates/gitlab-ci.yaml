---
/deployTerraform/integratesInfra:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /deployTerraform/integratesInfra
  stage: deploy-infra
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/authz-matrix:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/back/deploy/permissions_matrix
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/authz-matrix
  stage: deploy-app
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/deploy/dev:
  environment:
    name: development/$CI_COMMIT_REF_SLUG
    url: https://$CI_COMMIT_REF_SLUG.app.fluidattacks.com
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|skims)/
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates|forces)/
  script:
    - m . /integrates/back/deploy/dev
  stage: deploy-app
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/deploy/prod:
  environment:
    name: production
    url: https://app.fluidattacks.com
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/deploy/prod
  stage: deploy-app
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/lint/charts:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/lint/charts
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/lint/schema:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/lint/schema
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/lint/schema/deprecations:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/lint/schema/deprecations
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/check-forces-output:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/check-forces-output
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__accept_legal:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'accept_legal'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__acknowledge_concurrent_session:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'acknowledge_concurrent_session'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__activate_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'activate_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_credentials:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_credentials'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_draft:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_draft'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_event:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_event'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_event_consult:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_event_consult'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_files_to_db:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_files_to_db'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_finding_consult:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_finding_consult'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_forces_execution:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_forces_execution'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_git_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_git_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_group:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_group'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_group_consult:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_group_consult'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_group_tags:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_group_tags'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_organization:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_organization'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_push_token:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_push_token'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_toe_input:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_toe_input'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_toe_lines:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_toe_lines'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__add_url_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'add_url_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__approve_draft:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'approve_draft'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__batch:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'batch'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__confirm_vulnerabilities_zero_risk:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'confirm_vulnerabilities_zero_risk'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__deactivate_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'deactivate_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__delete_obsolete_groups:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'delete_obsolete_groups'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__download_event_file:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'download_event_file'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__download_file:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'download_file'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__download_vulnerability_file:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'download_vulnerability_file'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__event:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'event'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__events:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'events'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__finding:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'finding'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__forces_executions:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'forces_executions'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__grant_stakeholder_access:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'grant_stakeholder_access'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__grant_stakeholder_organization_access:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'grant_stakeholder_organization_access'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__group:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'group'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__groups_with_forces:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'groups_with_forces'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__handle_vulnerabilities_acceptance:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'handle_vulnerabilities_acceptance'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__invalidate_access_token:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'invalidate_access_token'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__me:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'me'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__move_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'move_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__organization:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'organization'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__organization_id:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'organization_id'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__refresh_toe_inputs:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'refresh_toe_inputs'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__refresh_toe_lines:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'refresh_toe_lines'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reject_draft:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reject_draft'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reject_event_solution:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reject_event_solution'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reject_vulnerabilities_zero_risk:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reject_vulnerabilities_zero_risk'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_credentials:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_credentials'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_event_evidence:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_event_evidence'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_evidence:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_evidence'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_files:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_files'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_finding:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_finding'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_group:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_group'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_group_tag:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_group_tag'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_stakeholder:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_stakeholder'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_stakeholder_access:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_stakeholder_access'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_stakeholder_organization_access:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_stakeholder_organization_access'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_tags:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_tags'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__remove_vulnerability:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'remove_vulnerability'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__report:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'report'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__report_machine:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'report_machine'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_event_verification:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_event_verification'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_vulnerabilities_hold:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_vulnerabilities_hold'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_vulnerabilities_verification:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_vulnerabilities_verification'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__request_vulnerabilities_zero_risk:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'request_vulnerabilities_zero_risk'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__requeue_actions:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'requeue_actions'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__reset_expired_accepted_findings:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'reset_expired_accepted_findings'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__resources:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'resources'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__sign_in:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'sign_in'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__solve_event:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'solve_event'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__stakeholder:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'stakeholder'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__submit_draft:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'submit_draft'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__submit_organization_finding_policy:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'submit_organization_finding_policy'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__subscribe_to_entity_report:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'subscribe_to_entity_report'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__sync_git_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'sync_git_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__toe_inputs:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'toe_inputs'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__toe_lines:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'toe_lines'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__unsubscribe_from_group:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'unsubscribe_from_group'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_access_token:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_access_token'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_credentials:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_credentials'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_event:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_event'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_event_evidence:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_event_evidence'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_event_solving_reason:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_event_solving_reason'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_evidence:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_evidence'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_evidence_description:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_evidence_description'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_finding_description:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_finding_description'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_forces_access_token:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_forces_access_token'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_git_environments:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_git_environments'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_git_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_git_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_access_info:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_access_info'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_disambiguation:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_disambiguation'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_info:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_info'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_managed:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_managed'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_policies:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_policies'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_group_stakeholder:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_group_stakeholder'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_ip_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_ip_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_nickname:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_nickname'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_organization_policies:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_organization_policies'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_organization_stakeholder:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_organization_stakeholder'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_severity:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_severity'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_stakeholder_phone:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_stakeholder_phone'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_input:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_input'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_lines_attacked_lines:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_lines_attacked_lines'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_lines_sorts:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_lines_sorts'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_toe_vulnerabilities:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_toe_vulnerabilities'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_url_root:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_url_root'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_vulnerabilities_treatment:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_vulnerabilities_treatment'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_vulnerability_commit:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_vulnerability_commit'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__update_vulnerability_treatment:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'update_vulnerability_treatment'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__upload_file:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'upload_file'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__validate_git_access:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'validate_git_access'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__verify_stakeholder:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'verify_stakeholder'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__verify_vulnerabilities_request:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'verify_vulnerabilities_request'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/functional__vulnerability:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/functional 'vulnerability'
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/back/test/unit:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 week
    name: coverage_xml_$CI_COMMIT_REF_NAME_$CI_COMMIT_SHA
    paths:
      - integrates/.coverage*
      - provenance-*
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/back/test/unit
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/charts/documents__dev__7__gitlab:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 week
    paths:
      - integrates/charts
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  parallel: 7
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/charts/documents 'dev' '7' 'gitlab'
  stage: analytics
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/charts/documents__prod__30__gitlab:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 week
    paths:
      - integrates/charts
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: false
  needs: []
  parallel: 30
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $integrates_charts_make_documents_prod_schedule == null
      when: never
    - when: always
  script:
    - m . /integrates/charts/documents 'prod' '30' 'gitlab'
  stage: analytics
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/charts/snapshots__prod:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: false
  needs:
    - /integrates/charts/documents__prod__30__gitlab
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $charts == null
      when: never
    - when: always
  script:
    - m . /integrates/charts/snapshots 'prod'
  stage: analytics
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/build
      - provenance-*
    reports:
      coverage_report:
        coverage_format: cobertura
        path: integrates/coverage.xml
    when: on_success
  coverage: /(?i)total.*? (100(?:\.0+)?\%|[1-9]?\d(?:\.\d+)?\%)$/
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs:
    - /integrates/back/test/unit
    - /integrates/front/test
    - /integrates/coverage/combine__1
    - /integrates/coverage/combine__2
    - /integrates/coverage/combine__3
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage
  stage: external
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage/combine__1:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs:
    - /integrates/back/test/functional__accept_legal
    - /integrates/back/test/functional__acknowledge_concurrent_session
    - /integrates/back/test/functional__activate_root
    - /integrates/back/test/functional__add_credentials
    - /integrates/back/test/functional__add_draft
    - /integrates/back/test/functional__add_event
    - /integrates/back/test/functional__add_event_consult
    - /integrates/back/test/functional__add_files_to_db
    - /integrates/back/test/functional__add_finding_consult
    - /integrates/back/test/functional__add_forces_execution
    - /integrates/back/test/functional__add_git_root
    - /integrates/back/test/functional__add_group
    - /integrates/back/test/functional__add_group_consult
    - /integrates/back/test/functional__add_group_tags
    - /integrates/back/test/functional__add_organization
    - /integrates/back/test/functional__add_push_token
    - /integrates/back/test/functional__add_toe_input
    - /integrates/back/test/functional__add_toe_lines
    - /integrates/back/test/functional__add_url_root
    - /integrates/back/test/functional__approve_draft
    - /integrates/back/test/functional__batch
    - /integrates/back/test/functional__confirm_vulnerabilities_zero_risk
    - /integrates/back/test/functional__deactivate_root
    - /integrates/back/test/functional__delete_obsolete_groups
    - /integrates/back/test/functional__download_event_file
    - /integrates/back/test/functional__download_file
    - /integrates/back/test/functional__download_vulnerability_file
    - /integrates/back/test/functional__event
    - /integrates/back/test/functional__events
    - /integrates/back/test/functional__finding
    - /integrates/back/test/functional__forces_executions
    - /integrates/back/test/functional__grant_stakeholder_access
    - /integrates/back/test/functional__grant_stakeholder_organization_access
    - /integrates/back/test/functional__group
    - /integrates/back/test/functional__groups_with_forces
    - /integrates/back/test/functional__handle_vulnerabilities_acceptance
    - /integrates/back/test/functional__invalidate_access_token
    - /integrates/back/test/functional__me
    - /integrates/back/test/functional__move_root
    - /integrates/back/test/functional__organization
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage/combine '1'
  stage: external
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage/combine__2:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs:
    - /integrates/back/test/functional__organization_id
    - /integrates/back/test/functional__refresh_toe_inputs
    - /integrates/back/test/functional__refresh_toe_lines
    - /integrates/back/test/functional__reject_draft
    - /integrates/back/test/functional__reject_event_solution
    - /integrates/back/test/functional__reject_vulnerabilities_zero_risk
    - /integrates/back/test/functional__remove_credentials
    - /integrates/back/test/functional__remove_event_evidence
    - /integrates/back/test/functional__remove_evidence
    - /integrates/back/test/functional__remove_files
    - /integrates/back/test/functional__remove_finding
    - /integrates/back/test/functional__remove_group
    - /integrates/back/test/functional__remove_group_tag
    - /integrates/back/test/functional__remove_stakeholder
    - /integrates/back/test/functional__remove_stakeholder_access
    - /integrates/back/test/functional__remove_stakeholder_organization_access
    - /integrates/back/test/functional__remove_tags
    - /integrates/back/test/functional__remove_vulnerability
    - /integrates/back/test/functional__report
    - /integrates/back/test/functional__request_event_verification
    - /integrates/back/test/functional__request_vulnerabilities_hold
    - /integrates/back/test/functional__request_vulnerabilities_verification
    - /integrates/back/test/functional__request_vulnerabilities_zero_risk
    - /integrates/back/test/functional__requeue_actions
    - /integrates/back/test/functional__report_machine
    - /integrates/back/test/functional__reset_expired_accepted_findings
    - /integrates/back/test/functional__resources
    - /integrates/back/test/functional__sign_in
    - /integrates/back/test/functional__solve_event
    - /integrates/back/test/functional__stakeholder
    - /integrates/back/test/functional__submit_draft
    - /integrates/back/test/functional__submit_organization_finding_policy
    - /integrates/back/test/functional__subscribe_to_entity_report
    - /integrates/back/test/functional__sync_git_root
    - /integrates/back/test/functional__toe_inputs
    - /integrates/back/test/functional__toe_lines
    - /integrates/back/test/functional__unsubscribe_from_group
    - /integrates/back/test/functional__update_access_token
    - /integrates/back/test/functional__update_credentials
    - /integrates/back/test/functional__update_event
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage/combine '2'
  stage: external
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/coverage/combine__3:
  after_script:
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 day
    paths:
      - integrates/.coverage*
      - provenance-*
    when: on_success
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs:
    - /integrates/back/test/functional__update_event_evidence
    - /integrates/back/test/functional__update_event_solving_reason
    - /integrates/back/test/functional__update_evidence_description
    - /integrates/back/test/functional__update_evidence
    - /integrates/back/test/functional__update_finding_description
    - /integrates/back/test/functional__update_forces_access_token
    - /integrates/back/test/functional__update_git_environments
    - /integrates/back/test/functional__update_git_root
    - /integrates/back/test/functional__update_group
    - /integrates/back/test/functional__update_group_access_info
    - /integrates/back/test/functional__update_group_disambiguation
    - /integrates/back/test/functional__update_group_info
    - /integrates/back/test/functional__update_group_managed
    - /integrates/back/test/functional__update_group_policies
    - /integrates/back/test/functional__update_group_stakeholder
    - /integrates/back/test/functional__update_ip_root
    - /integrates/back/test/functional__update_nickname
    - /integrates/back/test/functional__update_organization_policies
    - /integrates/back/test/functional__update_organization_stakeholder
    - /integrates/back/test/functional__update_severity
    - /integrates/back/test/functional__update_stakeholder_phone
    - /integrates/back/test/functional__update_toe_input
    - /integrates/back/test/functional__update_toe_lines_attacked_lines
    - /integrates/back/test/functional__update_toe_lines_sorts
    - /integrates/back/test/functional__update_toe_vulnerabilities
    - /integrates/back/test/functional__update_url_root
    - /integrates/back/test/functional__update_vulnerabilities_treatment
    - /integrates/back/test/functional__update_vulnerability_commit
    - /integrates/back/test/functional__update_vulnerability_treatment
    - /integrates/back/test/functional__upload_file
    - /integrates/back/test/functional__validate_git_access
    - /integrates/back/test/functional__verify_stakeholder
    - /integrates/back/test/functional__verify_vulnerabilities_request
    - /integrates/back/test/functional__vulnerability
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/coverage/combine '3'
  stage: external
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/deploy/dev:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/deploy/dev
  stage: deploy-app
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/deploy/prod:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  resource_group: deploy/$CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/deploy/prod
  stage: deploy-app
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/lint:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/lint
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/front/test:
  after_script:
    - cp ~/.makes/out-integrates-front-test/coverage/lcov.info integrates/front/coverage.lcov
    - cp ~/.makes/provenance-* .
  artifacts:
    expire_in: 1 week
    name: coverage_lcov_$CI_COMMIT_REF_NAME_$CI_COMMIT_SHORT_SHA
    paths:
      - integrates/front/coverage.lcov
      - provenance-*
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/front/test
  stage: test-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/secrets/lint:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/secrets/lint
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__daily:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'daily'
  stage: subscriptions
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__hourly:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'hourly'
  stage: subscriptions
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__monthly:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'monthly'
  stage: subscriptions
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/subscriptions/analytics__dev__weekly:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/subscriptions/analytics 'dev' 'weekly'
  stage: subscriptions
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/web/check-forces-output:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs:
    - /integrates/back/deploy/dev
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/web/check-forces-output
  stage: post-deploy
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/integrates/web/e2e:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs:
    - /integrates/back/deploy/dev
    - /integrates/front/deploy/dev
  parallel: 5
  retry: 2
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /integrates/web/e2e
  stage: post-deploy
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/dirOfModules/integrates:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/dirOfModules/integrates
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/dirOfModules/integratesBackChartsGenerators:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/dirOfModules/integratesBackChartsGenerators
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/dirOfModules/streams:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/dirOfModules/streams
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/imports/integrates:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/imports/integrates
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackDeployPermissionsMatrix:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackDeployPermissionsMatrix
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackMigrations:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackMigrations
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackTest:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackTest
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesBackTestE2e:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesBackTestE2e
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesJobsCloneRoots:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesJobsCloneRoots
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintPython/module/integratesJobsExecuteMachine:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintPython/module/integratesJobsExecuteMachine
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/integratesInfra:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /lintTerraform/integratesInfra
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/pipelineOnGitlab/integrates:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /pipelineOnGitlab/integrates
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/securePythonWithBandit/integratesBack:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /securePythonWithBandit/integratesBack
  stage: lint-code
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/integratesInfra:
  image: ghcr.io/fluidattacks/makes:22.09
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "trunk"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|integrates)/
  script:
    - m . /testTerraform/integratesInfra
  stage: test-infra
  tags:
    - small
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
