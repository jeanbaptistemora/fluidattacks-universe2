imagePullPolicy: IfNotPresent
replicas: 1
gitlabUrl: https://gitlab.com/
unregisterRunners: true
terminationGracePeriodSeconds: 300
concurrent: 200
checkInterval: 15
rbac:
  create: true
  clusterWideAccess: true
metrics:
  enabled: true
securityContext:
  runAsUser: 100
  fsGroup: 65533
resources:
  limits:
    memory: 256Mi
    cpu: 200m
  requests:
    memory: 128Mi
    cpu: 100m
runners:
  config: |
    [[runners]]
      name = "ci"
      url = "https://gitlab.com/"
      [runners.docker]
        cpus = "2"
        memory = "4000m"
        dns = ["1.1.1.1", "8.8.4.4", "8.8.8.8"]
        tls_verify = false
        image = "docker"
        privileged = false
        disable_cache = true
        pull_policy = "if-not-present"
      [runners.cache]
        Type = "s3"
        Path = "default"
        Shared = true
        [runners.cache.s3]
          ServerAddress = "s3.amazonaws.com"
          BucketName = "ci-cache.fluidattacks.com"
          BucketLocation = "us-east-1"
          Insecure = false
      [runners.kubernetes]
        privileged = false
        allow_privilege_escalation = false
        [runners.kubernetes.node_selector]
          worker_group = "ci"
  cache:
    secretName: ci-cache-creds
  executor: kubernetes
  locked: true
  tags: "ci"
  runUntagged: true
  protected: false
  secret: ci-registration-token
