/common/criteria/skims-sync:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /common/criteria/skims-sync
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/common/criteria/test:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /common/criteria/test
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/common/criteria/unreferenced:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /common/criteria/unreferenced
  stage: test-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesCompute:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesCompute
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesDns:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesDns
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesFoss:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesFoss
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesKubernetes:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesKubernetes
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesOkta:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesOkta
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesStatus:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesStatus
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesUsers:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesUsers
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesVpc:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesVpc
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/deployTerraform/makesVpn:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  resource_group: $CI_JOB_NAME
  rules:
    - if: $CI_COMMIT_BRANCH != "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /deployTerraform/makesVpn
  stage: deploy-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/docs/generate/criteria:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /docs/generate/criteria
  stage: build
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesCi:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesCi
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesCompute:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesCompute
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesDns:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesDns
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesFoss:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesFoss
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesKubernetes:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesKubernetes
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesOkta:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesOkta
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesStatus:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesStatus
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesUsers:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesUsers
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesVpc:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesVpc
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintTerraform/makesVpn:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintTerraform/makesVpn
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintWithAjv/makes/criteria/compliance:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintWithAjv/makes/criteria/compliance
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintWithAjv/makes/criteria/requirements:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintWithAjv/makes/criteria/requirements
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/lintWithAjv/makes/criteria/vulnerabilities:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /lintWithAjv/makes/criteria/vulnerabilities
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/pipelineOnGitlab/makes:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /pipelineOnGitlab/makes
  stage: lint-code
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/taintTerraform/makesUsersKeys1:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $makes_users_rotate_even == null
      when: never
    - when: always
  script:
    - m . /taintTerraform/makesUsersKeys1
  stage: rotation
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/taintTerraform/makesUsersKeys2:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_PIPELINE_SOURCE != "schedule"
      when: never
    - if: $makes_users_rotate_odd == null
      when: never
    - when: always
  script:
    - m . /taintTerraform/makesUsersKeys2
  stage: rotation
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesCi:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesCi
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesCompute:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesCompute
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesDns:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesDns
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesFoss:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesFoss
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesKubernetes:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesKubernetes
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesOkta:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesOkta
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesStatus:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesStatus
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesUsers:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesUsers
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesVpc:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesVpc
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
/testTerraform/makesVpn:
  image: ghcr.io/fluidattacks/makes:22.04
  interruptible: true
  needs: []
  rules:
    - if: $CI_COMMIT_BRANCH == "master"
      when: never
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      when: never
    - if: $CI_PIPELINE_SOURCE == "schedule"
      when: never
    - if: $CI_PIPELINE_SOURCE == "trigger"
      when: never
    - if: $CI_COMMIT_TITLE =~ /^(all|makes)/
  script:
    - m . /testTerraform/makesVpn
  stage: test-infra
  tags:
    - autoscaling
  variables:
    GIT_DEPTH: 1
    MAKES_GIT_DEPTH: 1
